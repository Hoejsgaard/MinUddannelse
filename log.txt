12:55:22 info: Program[0]
      Starting aula
12:55:23 info: Aula.Services.SupabaseService[0]
      Initializing Supabase connection
12:55:23 info: Aula.Services.SupabaseService[0]
      Supabase client initialized successfully
12:55:24 info: Aula.Services.SupabaseService[0]
      Supabase connection test successful
12:55:24 info: Program[0]
      Supabase connection test successful
12:55:24 info: Program[0]
      Preloading week letters for all children
12:55:24 info: AgentService[0]
      Logging in to MinUddannelse
12:55:27 info: AgentService[0]
      Getting all children
12:55:27 info: AgentService[0]
      Found 2 children
12:55:27 info: AgentService[0]
      ?? MONITOR: GetWeekLetterAsync for Soren Johannes for date 07/03/2025, useCache: False
12:55:27 info: AgentService[0]
      ?? MONITOR: Fetching fresh week letter for Soren Johannes for date 07/03/2025
12:55:27 info: Aula.Integration.MinUddannelseClient[0]
      ?? Mock mode enabled - returning stored week letter for Soren Johannes
12:55:27 info: Aula.Integration.MinUddannelseClient[0]
      ?? Simulating week 24/2025 as current week for Soren Johannes
12:55:27 warn: Aula.Integration.MinUddannelseClient[0]
      ?? No stored week letter found for Soren Johannes week 24/2025 - returning empty
12:55:27 info: AgentService[0]
      ?? MONITOR: Raw week letter structure for Soren Johannes: errorMessage, ugebreve, klasser
12:55:27 info: AgentService[0]
      ?? MONITOR: Week letter for Soren Johannes contains 1 ugebreve items, first item has keys: klasseNavn, uge, indhold
12:55:27 info: AgentService[0]
      ?? MONITOR: Week letter content length for Soren Johannes: 60 characters
12:55:27 info: AgentService[0]
      ?? MONITOR: Week letter content starts with: Der er ikke skrevet nogen ugenoter til denne uge (mock mode)
12:55:27 info: AgentService[0]
      ?? MONITOR: Added child name to week letter: Soren Johannes
12:55:27 info: DataService[0]
      Cached week letter for Soren Johannes
12:55:27 info: AgentService[0]
      ?? MONITOR: Cached week letter for Soren Johannes
12:55:27 info: Program[0]
      Preloaded week letter for Soren Johannes
12:55:27 info: AgentService[0]
      ?? MONITOR: GetWeekLetterAsync for Hans Martin for date 07/03/2025, useCache: False
12:55:27 info: AgentService[0]
      ?? MONITOR: Fetching fresh week letter for Hans Martin for date 07/03/2025
12:55:27 info: Aula.Integration.MinUddannelseClient[0]
      ?? Mock mode enabled - returning stored week letter for Hans Martin
12:55:27 info: Aula.Integration.MinUddannelseClient[0]
      ?? Simulating week 24/2025 as current week for Hans Martin
12:55:27 warn: Aula.Integration.MinUddannelseClient[0]
      ?? No stored week letter found for Hans Martin week 24/2025 - returning empty
12:55:27 info: AgentService[0]
      ?? MONITOR: Raw week letter structure for Hans Martin: errorMessage, ugebreve, klasser
12:55:27 info: AgentService[0]
      ?? MONITOR: Week letter for Hans Martin contains 1 ugebreve items, first item has keys: klasseNavn, uge, indhold
12:55:27 info: AgentService[0]
      ?? MONITOR: Week letter content length for Hans Martin: 60 characters
12:55:27 info: AgentService[0]
      ?? MONITOR: Week letter content starts with: Der er ikke skrevet nogen ugenoter til denne uge (mock mode)
12:55:27 info: AgentService[0]
      ?? MONITOR: Added child name to week letter: Hans Martin
12:55:27 info: DataService[0]
      Cached week letter for Hans Martin
12:55:27 info: AgentService[0]
      ?? MONITOR: Cached week letter for Hans Martin
12:55:27 info: Program[0]
      Preloaded week letter for Hans Martin
12:55:27 info: Program[0]
      ?? About to start SchedulingService
12:55:27 info: Program[0]
      ?? Got SchedulingService instance, calling StartAsync
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      Starting scheduling service
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      Scheduling service timer started - checking every 10 seconds
12:55:27 info: Program[0]
      ?? SchedulingService.StartAsync completed
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      ?? TIMER FIRED - CheckScheduledTasksWrapper called at 07/03/2025 12:55:27
12:55:27 info: Aula.Bots.SlackInteractiveBot[0]
      Starting Slack polling bot
12:55:27 info: Aula.Bots.SlackInteractiveBot[0]
      Initial timestamp set to: 1751540127.000000
12:55:27 info: Aula.Bots.SlackInteractiveBot[0]
      Slack polling started - checking every 5 seconds
12:55:27 info: Aula.Bots.SlackInteractiveBot[0]
      Slack cleanup timer started - running every 1 hour
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      Checking for missed reminders on startup
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      ?? Timer fired: Checking scheduled tasks and reminders at 07/03/2025 12:55:27 (UTC: 07/03/2025 10:55:27)
12:55:27 info: Aula.Services.SupabaseService[0]
      Checking for pending reminders. Current UTC: 07/03/2025 10:55:27, Local: 07/03/2025 12:55:27
12:55:27 info: Aula.Bots.SlackInteractiveBot[0]
      Sending message to Slack
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      ?? ExecutePendingReminders called at 07/03/2025 12:55:27 (UTC: 07/03/2025 10:55:27)
12:55:27 info: Aula.Services.SupabaseService[0]
      Checking for pending reminders. Current UTC: 07/03/2025 10:55:27, Local: 07/03/2025 12:55:27
12:55:27 info: Aula.Services.SupabaseService[0]
      Found 0 pending reminders
12:55:27 info: Aula.Services.SupabaseService[0]
      Found 0 pending reminders
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      No pending reminders found
12:55:27 info: Aula.Scheduling.SchedulingService[0]
      No missed reminders found on startup
12:55:28 info: Aula.Bots.SlackInteractiveBot[0]
      Stored sent message ID: 1751540127.395529
12:55:28 info: Aula.Bots.SlackInteractiveBot[0]
      Message sent successfully
12:55:28 info: Aula.Bots.SlackInteractiveBot[0]
      Slack polling bot started
12:55:28 info: Program[0]
      Aula started
12:55:37 info: Aula.Scheduling.SchedulingService[0]
      ?? TIMER FIRED - CheckScheduledTasksWrapper called at 07/03/2025 12:55:37
12:55:37 info: Aula.Scheduling.SchedulingService[0]
      ?? Timer fired: Checking scheduled tasks and reminders at 07/03/2025 12:55:37 (UTC: 07/03/2025 10:55:37)
12:55:37 info: Aula.Scheduling.SchedulingService[0]
      ?? ExecutePendingReminders called at 07/03/2025 12:55:37 (UTC: 07/03/2025 10:55:37)
12:55:37 info: Aula.Services.SupabaseService[0]
      Checking for pending reminders. Current UTC: 07/03/2025 10:55:37, Local: 07/03/2025 12:55:37
12:55:37 info: Aula.Services.SupabaseService[0]
      Found 0 pending reminders
12:55:37 info: Aula.Scheduling.SchedulingService[0]
      No pending reminders found
12:55:42 info: Aula.Bots.SlackInteractiveBot[0]
      Found 1 new user messages
12:55:42 info: Aula.Bots.SlackInteractiveBot[0]
      Processing Slack message in channel C06CVUAEL82: hvad skal soren i dag?
12:55:42 info: Aula.Bots.SlackInteractiveBot[0]
      Found first name in text: soren johannes
12:55:42 info: AgentService[0]
      Processing query with tools: hvad skal soren i dag?
12:55:42 info: OpenAiService[0]
      Processing query with intelligent tool selection: hvad skal soren i dag?
12:55:42 info: OpenAiService[0]
      Starting intent analysis for query: hvad skal soren i dag?
12:55:42 info: OpenAiService[0]
      Sending intent analysis request to OpenAI
12:55:44 info: OpenAiService[0]
      Intent analysis completed successfully: INFORMATION_QUERY
12:55:44 info: OpenAiService[0]
      Intent analysis result: INFORMATION_QUERY
12:55:44 info: OpenAiService[0]
      Delegating Aula query to existing system: hvad skal soren i dag?
12:55:44 info: AgentService[0]
      Falling back to existing week letter system for query: hvad skal soren i dag?
12:55:44 info: AgentService[0]
      Getting all children
12:55:44 info: AgentService[0]
      Found 2 children
12:55:44 info: AgentService[0]
      ?? MONITOR: GetWeekLetterAsync for Soren Johannes for date 07/03/2025, useCache: True
12:55:44 info: DataService[0]
      Retrieved week letter from cache for Soren Johannes
12:55:44 info: AgentService[0]
      ?? MONITOR: Returning cached week letter for Soren Johannes
12:55:44 info: AgentService[0]
      ?? MONITOR: Cached week letter content length for Soren Johannes: 60 characters
12:55:44 info: AgentService[0]
      ?? MONITOR: GetWeekLetterAsync for Hans Martin for date 07/03/2025, useCache: True
12:55:44 info: DataService[0]
      Retrieved week letter from cache for Hans Martin
12:55:44 info: AgentService[0]
      ?? MONITOR: Returning cached week letter for Hans Martin
12:55:44 info: AgentService[0]
      ?? MONITOR: Cached week letter content length for Hans Martin: 60 characters
12:55:44 info: OpenAiService[0]
      Asking question about multiple children: hvad skal soren i dag? (Today is Thursday) (CRITICAL: Respond in Danish - the user asked in Danish) for Slack
12:55:47 info: Aula.Scheduling.SchedulingService[0]
      ?? TIMER FIRED - CheckScheduledTasksWrapper called at 07/03/2025 12:55:47
12:55:47 info: Aula.Scheduling.SchedulingService[0]
      ?? Timer fired: Checking scheduled tasks and reminders at 07/03/2025 12:55:47 (UTC: 07/03/2025 10:55:47)
12:55:47 info: Aula.Scheduling.SchedulingService[0]
      ?? ExecutePendingReminders called at 07/03/2025 12:55:47 (UTC: 07/03/2025 10:55:47)
12:55:47 info: Aula.Services.SupabaseService[0]
      Checking for pending reminders. Current UTC: 07/03/2025 10:55:47, Local: 07/03/2025 12:55:47
12:55:47 info: Aula.Services.SupabaseService[0]
      Found 0 pending reminders
12:55:47 info: Aula.Scheduling.SchedulingService[0]
      No pending reminders found
12:55:47 info: Aula.Bots.SlackInteractiveBot[0]
      Updated conversation context: Child: soren johannes, Today: True, Tomorrow: False, Homework: False, Age: 0.0 minutes
12:55:47 info: Aula.Bots.SlackInteractiveBot[0]
      Message sent successfully to Slack channel C06CVUAEL82
12:55:47 info: Aula.Bots.SlackInteractiveBot[0]
      Sent response to Slack channel C06CVUAEL82
12:55:47 info: Aula.Bots.SlackInteractiveBot[0]
      Updated last timestamp to 1751540138.571789
12:55:57 info: Aula.Scheduling.SchedulingService[0]
      ?? TIMER FIRED - CheckScheduledTasksWrapper called at 07/03/2025 12:55:57
12:55:57 info: Aula.Scheduling.SchedulingService[0]
      ?? Timer fired: Checking scheduled tasks and reminders at 07/03/2025 12:55:57 (UTC: 07/03/2025 10:55:57)
12:55:57 info: Aula.Scheduling.SchedulingService[0]
      ?? ExecutePendingReminders called at 07/03/2025 12:55:57 (UTC: 07/03/2025 10:55:57)
12:55:57 info: Aula.Services.SupabaseService[0]
      Checking for pending reminders. Current UTC: 07/03/2025 10:55:57, Local: 07/03/2025 12:55:57
12:55:57 info: Aula.Services.SupabaseService[0]
      Found 0 pending reminders
12:55:57 info: Aula.Scheduling.SchedulingService[0]
      No pending reminders found